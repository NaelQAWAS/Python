try:
    xrange
except:
    xrange = range

def totalvalue(comb):
    ' Totalise a particular combination of items'
    totwt = totval = 0
    for item, wt, val in comb:
        totwt  += wt
        totval += val
    return (totval, -totwt) if totwt <= 10000 else (0, 0)

'''
items = (
    ("map", 9, 150), ("compass", 13, 35), ("water", 153, 200), ("sandwich", 50, 160),
    ("glucose", 15, 60), ("tin", 68, 45), ("banana", 27, 60), ("apple", 39, 40),
    ("cheese", 23, 30), ("beer", 52, 10), ("suntan cream", 11, 70), ("camera", 32, 30),
    ("t-shirt", 24, 15), ("trousers", 48, 10), ("umbrella", 73, 40),
    ("waterproof trousers", 42, 70), ("waterproof overclothes", 43, 75),
    ("note-case", 22, 80), ("sunglasses", 7, 20), ("towel", 18, 12),
    ("socks", 4, 50), ("book", 30, 10),
    )
'''

items =  ((u'1 Ceres', 2640, 8123022111651),
 (u'2 Pallas', 2641, 1778134717223),
 (u'10 Hygiea', 2633, 750199859282),
 (u'12 Victoria', 2651, 9639000000),
 (u'13 Egeria', 2644, 102583113299),
 (u'16 Psyche', 2637, 27673419946),
 (u'19 Fortuna', 2648, 73894422709),
 (u'21 Lutetia', 2648, 1703699200),
 (u'22 Kalliope', 2637, 7883784533),
 (u'24 Themis', 2633, 52830729020),
 (u'31 Euphrosyne', 2634, 143323883195),
 (u'34 Circe', 2642, 31424767137),
 (u'35 Leukothea', 2637, 853620070604861056),
 (u'36 Atalante', 2643, 37244168459),
 (u'38 Leda', 2641, 49227824514),
 (u'41 Daphne', 2642, 54400625689),
 (u'42 Isis', 2649, 8073333333),
 (u'44 Nysa', 2648, 50855936092849488),
 (u'45 Eugenia', 2641, 50262384749),
 (u'46 Hestia', 2646, 7031882880),
 (u'47 Aglaja', 2638, 34604342441),
 (u'48 Doris', 2633, 57849159805),
 (u'49 Pales', 2635, 48986427126),
 (u'50 Virginia', 2645, 24139738816),
 (u'51 Nemausa', 2649, 2517180523864459776),
 (u'52 Europa', 2634, 220936085736),
 (u'54 Alexandra', 2642, 52690727523),
 (u'55 Pandora', 2640, 38927824247628824),
 (u'56 Melete', 2645, 4625042240),
 (u'58 Concordia', 2641, 635069570305972608),
 (u'59 Elpis', 2641, 29890127674),
 (u'62 Erato', 2634, 675881880295880192),
 (u'64 Angelina', 2642, 123767920253242704),
 (u'65 Cybele', 2628, 15791176145),
 (u'66 Maja', 2643, 288468542076773440),
 (u'69 Hesperia', 2636, 5582120320),
 (u'70 Panopaea', 2644, 37330381812),
 (u'71 Niobe', 2641, 76154081705630624),
 (u'74 Galatea', 2641, 52848785336),
 (u'75 Eurydike', 2645, 22927204561001168),
 (u'76 Freia', 2629, 5139158528),
 (u'77 Frigga', 2642, 1743786240),
 (u'78 Diana', 2644, 10949095820),
 (u'81 Terpsichore', 2639, 53291775760),
 (u'83 Beatrix', 2647, 70676588297560168),
 (u'84 Klio', 2651, 4715870404450499),
 (u'85 Io', 2643, 19541781458),
 (u'86 Semele', 2634, 1364495083469996800),
 (u'87 Sylvia', 2627, 14731987200),
 (u'88 Thisbe', 2640, 117396843737),
 (u'89 Julia', 2645, 45434323847),
 (u'90 Antiope', 2633, 7155708291944999),
 (u'91 Aegina', 2644, 1031069480220428928),
 (u'92 Undina', 2632, 4875291840),
 (u'93 Minerva', 2640, 30174673520),
 (u'94 Aurora', 2632, 60783517485),
 (u'95 Arethusa', 2635, 1960478694771083008),
 (u'96 Aegle', 2635, 61959),
 (u'97 Klotho', 2644, 1332894080),
 (u'98 Ianthe', 2642, 9888671579),
 (u'99 Dike', 2643, 43170291105715064),
 (u'102 Miriam', 2644, 445242419787410368),
 (u'104 Klymene', 2633, 1473196529086375168),
 (u'105 Artemis', 2650, 18147910788),
 (u'106 Dione', 2633, 25613987151),
 (u'107 Camilla', 2627, 11224371200),
 (u'109 Felicitas', 2644, 557131390799424448),
 (u'110 Lydia', 2640, 83702947712654912),
 (u'111 Ate', 2644, 13100981108),
 (u'112 Iphigenia', 2648, 16984030524),
 (u'114 Kassandra', 2642, 129811909458349200),
 (u'117 Lomia', 2635, 5967958080),
 (u'120 Lachesis', 2633, 4109212216645833216),
 (u'121 Hermione', 2628, 43451529869),
 (u'122 Gerda', 2631, 249754523899424000),
 (u'125 Liberatrix', 2640, 10857861729965180),
 (u'127 Johanna', 2640, 26553712697),
 (u'128 Nemesis', 2640, 61310010115),
 (u'129 Antigone', 2639, 2725918720),
 (u'130 Elektra', 2634, 56900812923),
 (u'131 Vala', 2647, 9541639886749702),
 (u'132 Aethra', 2649, 412896512000000),
 (u'134 Sophrosyne', 2644, 980919851474829184),
 (u'135 Hertha', 2649, 1498253120),
 (u'136 Austria', 2651, 8484274935790482),
 (u'137 Meliboea', 2635, 65953214979),
 (u'139 Juewa', 2640, 6758961280),
 (u'140 Siwa', 2642, 190931654631607584),
 (u'141 Lumen', 2643, 71126016154),
 (u'142 Polana', 2648, 131247853046877200),
 (u'143 Adria', 2640, 104930891145538400),
 (u'144 Vibilia', 2644, 49314037867),
 (u'145 Adeona', 2642, 13026837625),
 (u'146 Lucina', 2641, 1799513764537528064),
 (u'147 Protogeneia', 2632, 106042424085),
 (u'150 Nuwa', 2636, 15324614031),
 (u'153 Hilda', 2622, 651701621261747072),
 (u'154 Bertha', 2632, 71689276727),
 (u'156 Xanthippe', 2642, 55952466041),
 (u'159 Aemilia', 2633, 1519775946727984896),
 (u'160 Una', 2640, 417514921657987584),
 (u'161 Athor', 2649, 12449777378982700),
 (u'162 Laurentia', 2636, 757849940238995456),
 (u'163 Erigone', 2650, 17328883935),
 (u'164 Eva', 2647, 931021504000000),
 (u'165 Loreley', 2633, 168398567670),
 (u'166 Rhodope', 2643, 6170504641395979),
 (u'168 Sibylla', 2629, 36209608224),
 (u'171 Ophelia', 2633, 1237266279392125952),
 (u'172 Baucis', 2649, 111477361257479088),
 (u'173 Ino', 2642, 6030594080),
 (u'175 Andromache', 2634, 806338705728759680),
 (u'176 Iduna', 2633, 1380857942517878016),
 (u'177 Irma', 2642, 305669024436134656),
 (u'181 Eucharis', 2634, 159179584636221696),
 (u'184 Dejopeja', 2632, 38526509647669584),
 (u'185 Eunike', 2641, 33291286228),
 (u'186 Celuta', 2650, 190764201601053216),
 (u'187 Lamberta', 2642, 28062446373),
 (u'190 Ismene', 2622, 527319706932016448),
 (u'191 Kolga', 2637, 801878046108360320),
 (u'194 Prokne', 2645, 19225577700),
 (u'195 Eurykleia', 2637, 490294185120139520),
 (u'199 Byblis', 2633, 42103740792052448),
 (u'200 Dynamene', 2641, 92248287619),
 (u'201 Penelope', 2643, 41962411689341072),
 (u'205 Martha', 2639, 407421596647090048),
 (u'206 Hersilia', 2640, 1123563410472772096),
 (u'207 Hedda', 2651, 157498550416096320),
 (u'209 Dido', 2632, 5058987840),
 (u'210 Isabella', 2641, 29357828003),
 (u'211 Isolda', 2635, 38249990909),
 (u'213 Lilaea', 2641, 444164331501770432),
 (u'214 Aschera', 2643, 1792277472679250),
 (u'216 Kleopatra', 2641, 4650096640),
 (u'221 Eos', 2635, 50536788968),
 (u'224 Oceana', 2642, 82442521824041680),
 (u'225 Henrietta', 2631, 1362119688434376960),
 (u'232 Russia', 2645, 117775486190825488),
 (u'233 Asterope', 2642, 1657957176892471808),
 (u'236 Honoria', 2640, 293446188408363392),
 (u'238 Hypatia', 2637, 37423061166),
 (u'240 Vanadis', 2643, 21273144831),
 (u'241 Germania', 2634, 7402320209329499),
 (u'242 Kriemhild', 2638, 8492555328285176),
 (u'247 Eukrate', 2642, 350492054269271168),
 (u'250 Bettina', 2633, 66538760162727480),
 (u'253 Mathilde', 2645, 886761373726499),
 (u'257 Silesia', 2633, 298709089331655296),
 (u'259 Aletheia', 2633, 7811961920),
 (u'261 Prymno', 2650, 17330203306738970),
 (u'266 Aline', 2640, 35778541459),
 (u'267 Tirza', 2640, 30370563964),
 (u'272 Antonia', 2639, 2137059038079102),
 (u'275 Sapientia', 2640, 850891002500997120),
 (u'279 Thule', 2618, 266122030645104768),
 (u'282 Clorinde', 2650, 46168747406839944),
 (u'284 Amalia', 2651, 115600616602544992),
 (u'286 Iclea', 2631, 652976174851795072),
 (u'301 Bavaria', 2640, 124807746305560992),
 (u'302 Clarissa', 2648, 44540930365638784),
 (u'304 Olga', 2650, 1267502400),
 (u'308 Polyxo', 2640, 3018273958575),
 (u'313 Chaldaea', 2650, 696277214422944000),
 (u'317 Roxane', 2651, 853720250078376),
 (u'322 Phaeo', 2641, 1864047360),
 (u'325 Heidelberga', 2632, 151494226343167520),
 (u'326 Tamara', 2651, 626341377213791232),
 (u'329 Svea', 2646, 366691673250481408),
 (u'331 Etheridgea', 2635, 327457968618071168),
 (u'332 Siri', 2640, 8630955497100862),
 (u'334 Chicago (1892 L)', 2622, 3103566077673302016),
 (u'335 Roberta (1892 C)', 2662, 548714952726884224),
 (u'336 Lacadiera (1892 D)', 2670, 43678762511289920),
 (u'337 Devosa (1892 E)', 2661, 27093524661897992),
 (u'338 Budrosa (1892 F)', 2638, 32974420325871428),
 (u'339 Dorothea (1892 G)', 2636, 85455847864412464),
 (u'342 Endymion (1892 K)', 2652, 173550137444188096),
 (u'344 Desiderata (1892 M)', 2651, 1801964861269516032),
 (u'345 Tercidina (1892 O)', 2657, 649244101622021120),
 (u'347 Pariana (1892 Q)', 2649, 47275846175912728),
 (u'348 May (1892 R)', 2637, 74522653039634848),
 (u'350 Ornamenta (1892 U)', 2634, 1290824037134854144),
 (u'356 Liguria (1893 G)', 2650, 1763013594948662016),
 (u'358 Apollonia (1893 K)', 2643, 557318284924267200),
 (u'359 Georgia (1893 M)', 2647, 11091221322425380),
 (u'360 Carlova (1893 N)', 2638, 1207918997242398976),
 (u'363 Padua (1893 S)', 2643, 119728580039541504),
 (u'365 Corduba (1893 V)', 2642, 925329000582446720),
 (u'366 Vincentina (1893 W)', 2633, 641617331141686016),
 (u'368 Haidea (1893 AB)', 2638, 70069732418),
 (u'369 Aeria (1893 AE)', 2645, 75373384495343872),
 (u'372 Palma (1893 AH)', 2635, 5210935045229086720),
 (u'373 Melusina (1893 AJ)', 2634, 683991523234978560),
 (u'375 Ursula (1893 AL)', 2633, 1453954561866094848),
 (u'377 Campania (1893 AN)', 2645, 587762816095791488),
 (u'379 Huenna (1894 AQ)', 2638, 612901612465886336),
 (u'380 Fiducia (1894 AR)', 2647, 305293458441308032),
 (u'381 Myrrha (1894 AS)', 2632, 1363273846386878208),
 (u'382 Dodona (1894 AT)', 2637, 69395825395496656),
 (u'383 Janina (1894 AU)', 2637, 73241831916310432),
 (u'386 Siegena (1894 AY)', 2638, 3498589997278403584),
 (u'387 Aquitania (1894 AZ)', 2644, 465194417391649856),
 (u'388 Charybdis (1894 BA)', 2637, 1158826079299944960),
 (u'392 Wilhelmina (1894 BF)', 2639, 193597549723733408),
 (u'393 Lampetia (1894 BG)', 2650, 131227981488055504),
 (u'395 Delia (1894 BK)', 2643, 103171976523533888),
 (u'396 Aeolia (1894 BL)', 2649, 5197130627630100),
 (u'397 Vienna (1894 BM)', 2651, 124312325242714096),
 (u'398 Admete (1894 BN)', 2649, 80742333119466160),
 (u'399 Persephone (1895 BP)', 2635, 15556895035670310),
 (u'402 Chloe (1895 BW)', 2648, 243268395564372096),
 (u'404 Arsinoe (1895 BY)', 2649, 726405789863665664),
 (u'405 Thia (1895 BZ)', 2654, 1517223540441395200),
 (u'406 Erna (1895 CB)', 2643, 13437800908991610),
 (u'407 Arachne (1895 CC)', 2647, 669102633139771264),
 (u'409 Aspasia (1895 CE)', 2647, 608967719281034624),
 (u'410 Chloris (1896 CH)', 2650, 1469269276494557952),
 (u'412 Elisabetha (1896 CK)', 2640, 586021584397023488),
 (u'413 Edburga (1896 CL)', 2653, 4278536256397154),
 (u'414 Liriope (1896 CN)', 2627, 265832073416598304),
 (u'417 Suevia (1896 CT)', 2644, 8837831123274749),
 (u'418 Alemannia (1896 CV)', 2650, 13836536806359030),
 (u'419 Aurelia (1896 CW)', 2666, 1671985023261412096),
 (u'420 Bertholda (1896 CY)', 2629, 318172839804062784),
 (u'423 Diotima (1896 DB)', 2634, 7085435205691176960),
 (u'425 Cornelia (1896 DC)', 2640, 202695899013372224),
 (u'426 Hippo (1897 DH)', 2637, 1598817557738952192),
 (u'429 Lotis (1897 DL)', 2648, 262763061996766016),
 (u'431 Nephele (1897 DN)', 2637, 666399443801054080),
 (u'434 Hungaria (1898 DR)', 2662, 206676890271803),
 (u'441 Bathilde (1898 ED)', 2641, 45616211677917520),
 (u'442 Eichsfeldia (1899 EE)', 2660, 231379901469082816),
 (u'444 Gyptis (1899 EL)', 2645, 3377258983555116032),
 (u'445 Edna (1899 EX)', 2633, 515778690491795840),
 (u'448 Natalie (1899 ET)', 2635, 84831122091771600),
 (u'449 Hamburga (1899 EU)', 2659, 488237728448261888),
 (u'458 Hercynia (1900 FK)', 2640, 26657645963609000),
 (u'460 Scania (1900 FN)', 2646, 15776879018287300),
 (u'464 Megaira (1901 FV)', 2645, 316054142877377984),
 (u'466 Tisiphone (1901 FX)', 2629, 1200733361266941952),
 (u'476 Hedwig (1901 GQ)', 2645, 208816536447474592),
 (u'478 Tergeste (1901 GU)', 2635, 229854154328469696),
 (u'479 Caprera (1901 HJ)', 2650, 302673106605799424),
 (u'481 Emita (1902 HP)', 2645, 189583401669880000),
 (u'488 Kreusa (1902 JG)', 2634, 2634903479902383104),
 (u'489 Comacina (1902 JM)', 2633, 2108905461470790144),
 (u'490 Veritas (1902 JP)', 2633, 1201357064844436992),
 (u'491 Carina (1902 JQ)', 2632, 717078774216770688),
 (u'494 Virtus (1902 JV)', 2637, 487040788484772480),
 (u'497 Iva (1902 KJ)', 2655, 13715205524278690),
 (u'498 Tokio (1902 KU)', 2653, 191206177438019584),
 (u'499 Venusia (1902 KX)', 2623, 60848628135772344),
 (u'503 Evelyn (1903 LF)', 2650, 424335576235325696),
 (u'504 Cora (1902 LK)', 2647, 3549071042505328),
 (u'507 Laodica (1903 LO)', 2633, 11008037510410860),
 (u'508 Princetonia (1903 LQ)', 2632, 2246128878925059072),
 (u'511 Davida (1903 LU)', 2634, -9223372036854775808),
 (u'513 Centesima (1903 LY)', 2636, 192601773152759008),
 (u'515 Athalia (1903 ME)', 2637, 43413951093233784),
 (u'516 Amherstia (1903 MG)', 2651, 51243025078500608),
 (u'521 Brixia (1904 NB)', 2653, 1204478822656659968),
 (u'523 Ada (1904 ND)', 2641, 4254477064982276),
 (u'526 Jena (1904 NQ)', 2636, 55460367445737016),
 (u'527 Euryanthe (1904 NR)', 2645, 115178269484816192),
 (u'530 Turandot (1904 NV)', 2636, 475683182216979200),
 (u'531 Zerlina (1904 NW)', 2640, 2721609171028870),
 (u'535 Montague (1904 OC)', 2648, 321851976190745984),
 (u'539 Pamina (1904 OL)', 2650, 122410736643328704),
 (u'541 Deborah (1904 OO)', 2641, 143881700218911200),
 (u'543 Charlotte (1904 OT)', 2637, 5326246054386837),
 (u'545 Messalina (1904 OY)', 2634, 1071829464906380032),
 (u'547 Praxedis (1904 PB)', 2644, 44382019007000112),
 (u'551 Ortrud (1904 PM)', 2640, 376103321309304128),
 (u'554 Peraga (1905 PS)', 2669, 686136368094842240),
 (u'555 Norma (1905 PT)', 2635, 50108387131608208),
 (u'558 Carmen (1905 QB)', 2638, 72802792487056912),
 (u'559 Nanon (1905 QD)', 2643, 66714125780876496),
 (u'560 Delila (1905 QF)', 2646, 40103424103305352),
 (u'564 Dudu (1905 QM)', 2645, 17573017344584692),
 (u'566 Stereoskopia (1905 QO)', 2630, 3702800837598347776),
 (u'569 Misa (1905 QT)', 2654, 302299999133858432),
 (u'570 Kythera (1905 QX)', 2630, 1177809479054),
 (u'572 Rebekka (1905 RB)', 2658, 20256164333715820),
 (u'578 Happelia (1905 RZ)', 2649, 47995582289386072),
 (u'579 Sidonia (1905 SD)', 2636, 956779948162099584),
 (u'581 Tauntonia (1905 SH)', 2631, 33844065892969720),
 (u'583 Klotilde (1905 SP)', 2635, 423712469761891456),
 (u'585 Bilkis (1906 TA)', 2658, 152639307371195712),
 (u'586 Thekla (1906 TC)', 2636, 435180528426318592),
 (u'592 Bathseba (1906 TS)', 2637, 123107786654925808),
 (u'593 Titania (1906 TT)', 2645, 332730943322812800),
 (u'596 Scheila (1906 UA)', 2639, 1578042126432),
 (u'598 Octavia (1906 UC)', 2647, 49640714558414280),
 (u'599 Luisa (1906 UJ)', 2646, 416849382777623680),
 (u'601 Nerthus (1906 UN)', 2633, 306923135393769024),
 (u'602 Marianna (1906 TE)', 2637, 1510673335946350848),
 (u'604 Tekmessa (1906 TK)', 2638, 39914694340900104),
 (u'606 Brangane (1906 VB)', 2656, 68548781511932224),
 (u'611 Valeria (1906 VL)', 2637, 84712077711727792),
 (u'613 Ginevra (1906 VP)', 2638, 57892056144495568),
 (u'614 Pia (1906 VQ)', 2646, 13388325758855860),
 (u'617 Patroclus (1906 VY)', 2612, 315948020150500992),
 (u'618 Elfriede (1906 VZ)', 2632, 1355348039473196032),
 (u'620 Drakonia (1906 WE)', 2658, 2405483154778485),
 (u'624 Hektor (1907 XM)', 2611, 2366263540084),
 (u'626 Notburga (1907 XO)', 2646, 147457233885583616),
 (u'627 Charis (1907 XS)', 2639, 14975331778244852),
 (u'629 Bernardina (1907 XU)', 2635, 3577520374908552),
 (u'634 Ute (1907 ZN)', 2637, 43924999536296136),
 (u'635 Vundtia (1907 ZS)', 2633, 738290565431807104),
 (u'638 Moira (1907 ZQ)', 2647, 218218782918523904),
 (u'640 Brambilla (1907 ZW)', 2633, 410615256497563584),
 (u'642 Clara (1907 ZY)', 2633, 17009235776214192),
 (u'643 Scheherezade (1907 ZZ)', 2629, 41389557788852864),
 (u'653 Berenike (1907 BK)', 2635, 92123459157177408),
 (u'654 Zelinda (1908 BM)', 2658, 1610165589688679936),
 (u'661 Cloelia (1908 CL)', 2635, 169405554129127008),
 (u'668 Dora (1908 DO)', 2650, 15056006436159450),
 (u'671 Carnegia (1908 DV)', 2635, 26560776646224740),
 (u'678 Fredegundis (1909 FS)', 2660, 9581013991945042),
 (u'679 Pax (1909 FY)', 2648, 208214022182437920),
 (u'687 Tinette (1909 HG)', 2648, 499253000121466),
 (u'688 Melanie (1909 HH)', 2646, 55253943670806696),
 (u'701 Oriola (1910 KN)', 2636, 50511708059596512),
 (u'702 Alauda (1910 KQ)', 2631, 5733912082671095808),
 (u'704 Interamnia (1910 KU)', 2635, 644189432002),
 (u'705 Erminia (1910 KV)', 2636, 1882842360985866240),
 (u'706 Hirundo (1910 KX)', 2644, 19426872596692260),
 (u'712 Boliviana (1911 LO)', 2650, 272350574463305408),
 (u'713 Luscinia (1911 LS)', 2630, 914885205779981952),
 (u'715 Transvaalia (1911 LX)', 2641, 3052818373314950),
 (u'718 Erida (1911 MS)', 2639, 50907281513584736),
 (u'721 Tabora (1911 MZ)', 2627, 91444124549),
 (u'723 Hammonia (1911 NB)', 2637, 35370141265653140),
 (u'729 Watsonia (1912 OD)', 2640, 54397287190361144),
 (u'731 Sorga (1912 OQ)', 2638, 9567267919448598),
 (u'735 Marghanna (1912 PY)', 2649, 319653423571440576),
 (u'739 Mandeville (1913 QR)', 2641, 163106611888420320),
 (u'741 Botolphia (1913 QT)', 2644, 3415995005188208),
 (u'742 Edisona (1913 QU)', 2637, 144791143160094592),
 (u'743 Eugenisis (1913 QV)', 2642, 117047525896483600),
 (u'746 Marlu (1913 QY)', 2636, 38311607131871312),
 (u'747 Winchester (1913 QZ)', 2642, 3942294116804791808),
 (u'748 Simeisa (1913 RD)', 2624, 123262188120412304),
 (u'750 Oskar (1913 RG)', 2661, 6777431429788811),
 (u'751 Faina (1913 RK)', 2648, 1050628291323725952),
 (u'753 Tiflis (1913 RM)', 2671, 6014374928699034),
 (u'754 Malabar (1906 UT)', 2635, 523807851348113536),
 (u'755 Quintilla (1908 CZ)', 2635, 16334980208871370),
 (u'757 Portlandia (1908 EJ)', 2659, 4335026736597888),
 (u'759 Vinifera (1913 SJ)', 2645, 12042068972905820),
 (u'762 Pulcova (1913 SQ)', 2633, 2005785763642264832),
 (u'764 Gedania (1913 SU)', 2633, 154141963393108000),
 (u'767 Bondia (1913 SX)', 2637, 55661116650793880),
 (u'771 Libera (1913 TO)', 2649, 3326886643259363),
 (u'772 Tanete (1913 TR)', 2635, 1268378259377281024),
 (u'773 Irmintraud (1913 TV)', 2638, 955329181363),
 (u'776 Berbericia (1914 TY)', 2638, 2690042221225857024),
 (u'778 Theobalda (1914 UA)', 2636, 204702459257983584),
 (u'779 Nina (1914 UB)', 2648, 59007752305207392),
 (u'781 Kartvelia (1914 UF)', 2632, 41516060957522152),
 (u'783 Nora (1914 UL)', 2674, 49910682673603904),
 (u'784 Pickeringia (1914 UM)', 2638, 556757727907251776),
 (u'785 Zwetana (1914 UN)', 2652, 88931697179414400),
 (u'786 Bredichina (1914 UO)', 2633, 598478672267584000),
 (u'789 Lena (1914 UU)', 2646, 1009998394258394),
 (u'790 Pretoria (1912 NW)', 2629, 558312183243162240),
 (u'791 Ani (1914 UV)', 2635, 863843455195567744),
 (u'792 Metcalfia (1907 ZC)', 2649, 29382752195890844),
 (u'795 Fini (1914 VE)', 2640, 324060586756631488),
 (u'796 Sarita (1914 VH)', 2650, 11922340931378780),
 (u'798 Ruth (1914 VT)', 2636, 28113432756911020),
 (u'804 Hispania (1915 WT)', 2640, 3046951530174434816),
 (u'814 Tauris (1916 YT)', 2636, 1024043317753609856),
 (u'815 Coppelia (1916 YU)', 2643, 1232338438432418),
 (u'821 Fanny (1916 ZC)', 2650, 2476283201342030),
 (u'824 Anastasia (1916 ZH)', 2644, 18230443147937340),
 (u'826 Henrika (1916 ZO)', 2651, 5580631497367600),
 (u'838 Seraphina (1916 AH)', 2640, 24155673006461692),
 (u'844 Leontina (1916 AP)', 2632, 9211294832957186),
 (u'845 Naema (1916 AS)', 2637, 125083666057596800),
 (u'849 Ara (1912 NY)', 2634, 82442521824041680),
 (u'853 Nansenia (1916 S28)', 2661, 15326872679294202),
 (u'856 Backlunda (1916 S30)', 2651, 12128310627752150),
 (u'860 Ursina (1917 BD)', 2641, 3306545680879207),
 (u'866 Fatme (1917 BQ)', 2634, 90346697755566320),
 (u'868 Lova (1917 BU)', 2648, 112485216836222304),
 (u'872 Holda (1917 BZ)', 2644, 3556169182489288),
 (u'877 Walkure (1915 S7)', 2661, 44126062800217136),
 (u'880 Herba (1917 CK)', 2643, 4186010481889175),
 (u'884 Priamus (1917 CQ)', 2612, 43446381558),
 (u'886 Washingtonia (1917 b)', 2636, 578324377139302528),
 (u'895 Helio (1918 DU)', 2632, 2218705318873244160),
 (u'907 Rhoda (1918 EU)', 2640, 32382359633948760),
 (u'908 Buda (1918 EX)', 2651, 6630911977635323),
 (u'910 Anneliese (1919 FB)', 2640, 81207259042981872),
 (u'911 Agamemnon (1919 FD)', 2611, 961633734620),
 (u'912 Maritima (1919 FJ)', 2634, 447983854030773696),
 (u'919 Ilsebill (1918 EQ)', 2642, 16460675905424740),
 (u'924 Toni (1919 GC)', 2640, 81965025876040272),
 (u'930 Westphalia (1920 GS)', 2651, 37803041775233096),
 (u'931 Whittemora (1920 GU)', 2636, 32373954290715452),
 (u'934 Thuringia (1920 HK)', 2645, 118240301519153808),
 (u'941 Murray (1920 HV)', 2647, 622759961787847),
 (u'944 Hidalgo (1920 HZ)', 2623, 11398989341),
 (u'961 Gunnie (1921 KM)', 2644, 7096548947524737),
 (u'965 Angelica (1921 KT)', 2636, 22254250478317548),
 (u'971 Alsatia (1921 LF)', 2646, 201745020665542592),
 (u'973 Aralia (1922 LR)', 2632, 18023193025778360),
 (u'977 Philippa (1922 LV)', 2633, 220527780281539136),
 (u'980 Anacostia (1921 W19)', 2644, 293344072811874944),
 (u'996 Hilaritas (1923 NM)', 2637, 19995983928551612),
 (u'997 Priska (1923 NR)', 2648, 5091984545295876))


def knapsack01_dp(items, limit):
    table = [[0 for w in range(limit + 1)] for j in xrange(len(items) + 1)]

    for j in xrange(1, len(items) + 1):
        item, wt, val = items[j-1]
        for w in xrange(1, limit + 1):
            if wt > w:
                table[j][w] = table[j-1][w]
            else:
                table[j][w] = max(table[j-1][w],
                                  table[j-1][w-wt] + val)

    result = []
    w = limit
    for j in range(len(items), 0, -1):
        was_added = table[j][w] != table[j-1][w]

        if was_added:
            item, wt, val = items[j-1]
            result.append(items[j-1])
            w -= wt

    return result


bagged = knapsack01_dp(items, 10000)
print("Bagged the following items\n  " +
      '\n  '.join(sorted(item for item,_,_ in bagged)))
val, wt = totalvalue(bagged)

print("for a total value of %i and a total weight of %i" % (val, -wt))